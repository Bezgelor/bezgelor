{"id":"bzglr-09q","title":"Create CurrencyTransaction schema","description":"Create the CurrencyTransaction schema for logging all currency changes.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/schema/currency_transaction.ex\n- Test: apps/bezgelor_db/test/schema/currency_transaction_test.exs\n\nSchema fields:\n- character_id, account_id (references)\n- currency_type (enum: gold, elder_gems, renown, prestige, glory, crafting_vouchers, war_coins, shade_silver, protostar_promissory_notes)\n- amount (integer, can be negative)\n- balance_after (integer)\n- source (enum: quest_reward, vendor_buy, vendor_sell, loot_pickup, mail_received, mail_sent, trade_received, trade_sent, auction_sold, auction_purchased, auction_fee, repair_cost, taxi_fee, tradeskill_cost, guild_deposit, guild_withdraw, housing_purchase, admin_grant, admin_remove, other)\n- source_id (optional integer)\n- metadata (map)\n- session_id (optional string)\n- inserted_at (no updated_at - immutable log)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:12.428677-08:00","updated_at":"2025-12-21T22:49:26.191837-08:00","closed_at":"2025-12-21T22:49:26.191837-08:00","close_reason":"Closed","labels":["economy","schema"],"dependencies":[{"issue_id":"bzglr-09q","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.135139-08:00","created_by":"daemon"}]}
{"id":"bzglr-1p1","title":"Fly.io Deployment Setup","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-21T22:00:04.518736-08:00","updated_at":"2025-12-21T22:43:44.095455-08:00"}
{"id":"bzglr-2mq","title":"Deprecate Inventory currency functions","description":"Mark Inventory currency functions as deprecated and delegate to Economy.\n\nFiles:\n- Modify: apps/bezgelor_db/lib/bezgelor_db/inventory.ex\n\nChanges:\n- Add @deprecated attribute to modify_currency/3, add_currency/3, spend_currency/3\n- Log warnings when deprecated functions are called\n- Delegate to Economy.modify_currency with :other source\n- Run full test suite to verify (expect deprecation warnings)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.774628-08:00","updated_at":"2025-12-21T22:43:44.105282-08:00","labels":["deprecation","economy"],"dependencies":[{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-lye","type":"blocks","created_at":"2025-12-21T00:56:09.971626-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-46z","type":"blocks","created_at":"2025-12-21T00:56:10.164734-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-q4p","type":"blocks","created_at":"2025-12-21T00:56:10.339815-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-5hj","type":"blocks","created_at":"2025-12-21T00:56:10.707668-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-e3e","type":"blocks","created_at":"2025-12-21T00:56:10.92574-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.666469-08:00","created_by":"daemon"}]}
{"id":"bzglr-30l","title":"Define economy telemetry event specifications","description":"Define the telemetry event specifications for economy tracking.\n\nEvents to define:\n- [:bezgelor, :economy, :transaction] - currency changes\n- [:bezgelor, :economy, :alert] - threshold violations\n\nEach event spec includes:\n- Event name (list of atoms)\n- Measurements (amount, balance_after, etc.)\n- Metadata (character_id, source, currency_type, etc.)\n\nDocument in a module doc or create a dedicated telemetry module.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T22:14:26.068093-08:00","updated_at":"2025-12-21T22:50:11.713841-08:00","closed_at":"2025-12-21T22:50:11.713841-08:00","close_reason":"Closed","labels":["economy telemetry"],"dependencies":[{"issue_id":"bzglr-30l","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:14.769719-08:00","created_by":"daemon"}]}
{"id":"bzglr-46z","title":"Migrate vendor handler to Economy","description":"Update vendor buy handler to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_protocol/lib/bezgelor_protocol/handler/vendor_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.spend_currency with Economy.modify_currency using :vendor_buy source\n- Update refund logic to use Economy.modify_currency with refund metadata","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:52.830744-08:00","updated_at":"2025-12-21T22:43:44.10656-08:00","labels":["economy","migration","vendor"],"dependencies":[{"issue_id":"bzglr-46z","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.528701-08:00","created_by":"daemon"},{"issue_id":"bzglr-46z","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.379689-08:00","created_by":"daemon"}]}
{"id":"bzglr-5hj","title":"Migrate portal character detail to Economy","description":"Update portal admin character detail page to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/character_detail_live.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.modify_currency with Economy.modify_currency\n- Use :admin_grant source with admin_id in metadata","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:23.679324-08:00","updated_at":"2025-12-21T22:43:44.106062-08:00","labels":["economy","migration","portal"],"dependencies":[{"issue_id":"bzglr-5hj","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.887585-08:00","created_by":"daemon"},{"issue_id":"bzglr-5hj","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.018445-08:00","created_by":"daemon"}]}
{"id":"bzglr-5ma","title":"Add economy telemetry metrics to Portal","description":"Add economy-related telemetry metrics to Portal.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/telemetry.ex\n\nMetrics:\n- counter: bezgelor.economy.transaction.count (tags: currency_type, source)\n- sum: bezgelor.economy.transaction.amount (tags: currency_type, source)\n- last_value: bezgelor.economy.circulation.total (tags: currency_type)\n- counter: bezgelor.economy.alert.triggered (tags: type)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T00:53:52.256102-08:00","updated_at":"2025-12-21T23:06:37.116524-08:00","closed_at":"2025-12-21T23:06:37.116524-08:00","close_reason":"Closed","labels":["economy","portal","telemetry"],"dependencies":[{"issue_id":"bzglr-5ma","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.461524-08:00","created_by":"daemon"},{"issue_id":"bzglr-5ma","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:20:21.455447-08:00","created_by":"daemon"}]}
{"id":"bzglr-5n1","title":"Final verification of economy implementation","description":"Final end-to-end verification of the economy implementation.\n\nSteps:\n1. Start the server with mix phx.server\n2. Navigate to http://localhost:4000/admin/economy\n3. Verify dashboard loads with real data\n4. Send a gift via gift tab\n5. Verify transaction appears in live feed\n6. Commit any final fixes\n\nVerify:\n- Real-time updates work\n- Alert notifications display\n- Gift tab creates transactions","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:25.453611-08:00","updated_at":"2025-12-21T22:43:44.104764-08:00","labels":["economy","verification"],"dependencies":[{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-66n","type":"blocks","created_at":"2025-12-21T00:56:17.569226-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-7hp","type":"blocks","created_at":"2025-12-21T00:56:17.847905-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.31472-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-5xo","type":"blocks","created_at":"2025-12-21T22:15:02.462667-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-ziw","type":"blocks","created_at":"2025-12-21T22:15:02.702761-08:00","created_by":"daemon"}]}
{"id":"bzglr-5xo","title":"Economy integration test","description":"Create an integration test that validates the full economy telemetry flow.\n\nTest file: apps/bezgelor_world/test/integration/economy_integration_test.exs\n\nTest scenario:\n1. Start Economy.Telemetry and Economy.Alerts GenServers\n2. Subscribe to economy:updates and economy:alerts PubSub topics\n3. Grant currency via Economy.modify_currency/5\n4. Assert: Transaction logged to database\n5. Assert: Telemetry event emitted\n6. Assert: PubSub broadcast received within 5s\n7. Trigger threshold violation (e.g., grant 1M gold)\n8. Assert: Alert created in database\n9. Assert: Alert broadcast via PubSub\n10. Resolve alert and verify status update\n\nRequires database (tag @moduletag :database).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:14:53.240585-08:00","updated_at":"2025-12-21T22:43:44.097204-08:00","labels":["economy testing integration"],"dependencies":[{"issue_id":"bzglr-5xo","depends_on_id":"bzglr-bqm","type":"blocks","created_at":"2025-12-21T22:15:01.735676-08:00","created_by":"daemon"},{"issue_id":"bzglr-5xo","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:17.829953-08:00","created_by":"daemon"}]}
{"id":"bzglr-66n","title":"Update economy dashboard with real data","description":"Wire up the economy dashboard with real data and PubSub subscriptions.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/economy_live.ex\n\nChanges:\n- Subscribe to economy:updates and economy:alerts PubSub topics\n- Load real stats via Economy context in mount/3\n- Add handle_info for PubSub messages\n- Update overview_tab to display real data:\n  - Total gold in circulation\n  - Daily gold generated/removed\n  - Top gold holders table\n  - Gold flow by source table\n  - Live transaction feed","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.387091-08:00","updated_at":"2025-12-21T22:43:44.105544-08:00","labels":["economy","liveview","portal"],"dependencies":[{"issue_id":"bzglr-66n","depends_on_id":"bzglr-db7","type":"blocks","created_at":"2025-12-21T00:55:33.582202-08:00","created_by":"daemon"},{"issue_id":"bzglr-66n","depends_on_id":"bzglr-bqm","type":"blocks","created_at":"2025-12-21T00:55:33.751451-08:00","created_by":"daemon"},{"issue_id":"bzglr-66n","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.347067-08:00","created_by":"daemon"}]}
{"id":"bzglr-6ba","title":"Loot drop telemetry","description":"Add telemetry for item drops: creature loot, chest loot, item rarity, zone, drop rates for economy balance analysis.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:54.381231-08:00","updated_at":"2025-12-21T23:01:57.897665-08:00","closed_at":"2025-12-21T23:01:57.897665-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-6ba","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.840788-08:00","created_by":"daemon"},{"issue_id":"bzglr-6ba","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:11.446521-08:00","created_by":"daemon"}]}
{"id":"bzglr-7d1","title":"Create economy tables migration","description":"Create database migration for economy tables.\n\nFiles:\n- Create: apps/bezgelor_db/priv/repo/migrations/20251221000000_create_economy_tables.exs\n\nTables:\n1. currency_transactions\n   - character_id, account_id references\n   - currency_type, amount, balance_after, source, source_id, metadata, session_id\n   - inserted_at only (immutable log)\n   - Indexes: (character_id, inserted_at), (source, inserted_at), (inserted_at)\n\n2. economy_alerts\n   - character_id reference\n   - type, details, status, resolved_by_id, resolution_notes\n   - timestamps\n   - Indexes: status, character_id, (type, inserted_at)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:14.265576-08:00","updated_at":"2025-12-21T22:53:54.430497-08:00","closed_at":"2025-12-21T22:53:54.430497-08:00","close_reason":"Closed","labels":["economy","migration"],"dependencies":[{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-09q","type":"blocks","created_at":"2025-12-21T00:55:00.756498-08:00","created_by":"daemon"},{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-qjn","type":"blocks","created_at":"2025-12-21T00:55:00.948745-08:00","created_by":"daemon"},{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.772609-08:00","created_by":"daemon"}]}
{"id":"bzglr-7fh","title":"Update runtime.exs for WORLD_PUBLIC_ADDRESS","description":"Add WORLD_PUBLIC_ADDRESS config for game client connections on Fly.io","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.606813-08:00","updated_at":"2025-12-21T22:43:44.097844-08:00","dependencies":[{"issue_id":"bzglr-7fh","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.000675-08:00","created_by":"daemon"}]}
{"id":"bzglr-7hp","title":"Run full test suite for economy integration","description":"Run the full test suite and fix any issues from the economy integration.\n\nSteps:\n1. Run mix test\n2. Fix any failures\n3. Commit fixes if needed\n\nExpected: All tests pass (with deprecation warnings from Inventory functions)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:25.110907-08:00","updated_at":"2025-12-21T22:43:44.105031-08:00","labels":["economy","testing"],"dependencies":[{"issue_id":"bzglr-7hp","depends_on_id":"bzglr-2mq","type":"blocks","created_at":"2025-12-21T00:56:14.312297-08:00","created_by":"daemon"},{"issue_id":"bzglr-7hp","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.486984-08:00","created_by":"daemon"}]}
{"id":"bzglr-7kr","title":"Verify local release build","description":"Build release locally and verify structure includes migrate and server scripts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.903638-08:00","updated_at":"2025-12-21T22:43:44.097638-08:00","dependencies":[{"issue_id":"bzglr-7kr","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.167089-08:00","created_by":"daemon"}]}
{"id":"bzglr-835","title":"Crafting telemetry","description":"Add telemetry for crafting: materials consumed, items crafted, tradeskill used, success/failure rates, material sinks.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T02:53:54.740157-08:00","updated_at":"2025-12-21T22:59:23.783562-08:00","closed_at":"2025-12-21T22:59:23.783562-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-835","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.982554-08:00","created_by":"daemon"},{"issue_id":"bzglr-835","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:15:10.64381-08:00","created_by":"daemon"}]}
{"id":"bzglr-a5e","title":"Create release module for migrations","description":"Create lib/bezgelor/release.ex with migrate and rollback functions","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.11792-08:00","updated_at":"2025-12-21T22:43:44.098843-08:00","dependencies":[{"issue_id":"bzglr-a5e","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.222229-08:00","created_by":"daemon"}]}
{"id":"bzglr-aep","title":"Create Economy.Alerts GenServer","description":"Create GenServer for threshold detection and Discord webhook integration.\n\nFiles:\n- Create: apps/bezgelor_world/lib/bezgelor_world/economy/alerts.ex\n- Test: apps/bezgelor_world/test/economy/alerts_test.exs\n\nThresholds (configurable):\n- gold_gain_per_hour: 100,000 default\n- gold_balance_max: 1,000,000 default  \n- transactions_per_minute: 60 default\n\nFunctionality:\n- Tracks hourly gains per character\n- Tracks transaction rate per minute\n- Periodic balance checks (every minute)\n- Triggers alerts on threshold violations\n- Logs to database, broadcasts via PubSub, sends Discord webhooks\n\nDiscord webhook configured via ECONOMY_DISCORD_WEBHOOK env var.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:17.077862-08:00","updated_at":"2025-12-21T23:07:03.601292-08:00","closed_at":"2025-12-21T23:07:03.601292-08:00","close_reason":"Closed","labels":["discord","economy","genserver"],"dependencies":[{"issue_id":"bzglr-aep","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:06.279249-08:00","created_by":"daemon"},{"issue_id":"bzglr-aep","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.103165-08:00","created_by":"daemon"}]}
{"id":"bzglr-aot","title":"Create fly.toml configuration","description":"Create fly.toml with HTTP service for Portal and TCP services for game servers","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.295708-08:00","updated_at":"2025-12-21T22:43:44.098045-08:00","dependencies":[{"issue_id":"bzglr-aot","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.826403-08:00","created_by":"daemon"}]}
{"id":"bzglr-bqm","title":"Add Economy GenServers to supervisor","description":"Add Economy.Telemetry and Economy.Alerts to the BezgelorWorld application supervisor.\n\nFiles:\n- Modify: apps/bezgelor_world/lib/bezgelor_world/application.ex\n\nAdd to base_children list:\n- BezgelorWorld.Economy.Telemetry\n- BezgelorWorld.Economy.Alerts\n\nVerify application starts without errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:51.662619-08:00","updated_at":"2025-12-21T23:11:35.31726-08:00","closed_at":"2025-12-21T23:11:35.31726-08:00","close_reason":"Closed","labels":["economy","supervisor"],"dependencies":[{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-db7","type":"blocks","created_at":"2025-12-21T00:55:08.144369-08:00","created_by":"daemon"},{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-aep","type":"blocks","created_at":"2025-12-21T00:55:08.308244-08:00","created_by":"daemon"},{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.916234-08:00","created_by":"daemon"}]}
{"id":"bzglr-c2e","title":"Item repair telemetry","description":"Add telemetry for item repairs: repair costs, durability restored, gold sink tracking.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-21T02:53:55.025782-08:00","updated_at":"2025-12-21T23:00:20.172662-08:00","closed_at":"2025-12-21T23:00:20.172662-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-c2e","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:55.128651-08:00","created_by":"daemon"},{"issue_id":"bzglr-c2e","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:15:10.968968-08:00","created_by":"daemon"}]}
{"id":"bzglr-c34","title":"Create .dockerignore","description":"Add .dockerignore to exclude build artifacts, tests, and large assets","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.711592-08:00","updated_at":"2025-12-21T22:43:44.098441-08:00","dependencies":[{"issue_id":"bzglr-c34","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.53421-08:00","created_by":"daemon"}]}
{"id":"bzglr-cu2","title":"Currency transaction telemetry","description":"Add telemetry events for currency gains/losses: gold earned from quests, loot, sales; gold spent on vendors, repairs, AH fees. Track source, amount, and character balance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:52.750767-08:00","updated_at":"2025-12-21T23:07:13.032853-08:00","closed_at":"2025-12-21T23:07:13.032853-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-cu2","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.07001-08:00","created_by":"daemon"},{"issue_id":"bzglr-cu2","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.182245-08:00","created_by":"daemon"}]}
{"id":"bzglr-db7","title":"Create Economy.Telemetry GenServer","description":"Create GenServer for buffering telemetry events and broadcasting to dashboard.\n\nFiles:\n- Create: apps/bezgelor_world/lib/bezgelor_world/economy/telemetry.ex\n- Test: apps/bezgelor_world/test/economy/telemetry_test.exs\n\nFunctionality:\n- Attaches to [:bezgelor, :economy, :transaction] telemetry events\n- Buffers transactions in memory\n- Broadcasts aggregated summaries every 5 seconds via Phoenix PubSub\n- Topic: economy:updates\n\nAggregation includes:\n- Transaction count\n- Breakdown by currency type\n- Breakdown by source type\n- Recent transactions (last 10)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:16.257678-08:00","updated_at":"2025-12-21T23:00:21.019593-08:00","closed_at":"2025-12-21T23:00:21.019593-08:00","close_reason":"Closed","labels":["economy","genserver"],"dependencies":[{"issue_id":"bzglr-db7","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:06.109573-08:00","created_by":"daemon"},{"issue_id":"bzglr-db7","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.282746-08:00","created_by":"daemon"}]}
{"id":"bzglr-dt4","title":"Create release overlay scripts","description":"Create rel/overlays/bin/migrate and rel/overlays/bin/server scripts","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.423734-08:00","updated_at":"2025-12-21T22:43:44.098641-08:00","dependencies":[{"issue_id":"bzglr-dt4","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.373347-08:00","created_by":"daemon"}]}
{"id":"bzglr-e3e","title":"Migrate economy live gift tab to Economy","description":"Update portal economy live gift tab to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/economy_live.ex\n\nChanges:\n- Add Economy to alias\n- Update send_gift/5 currency case to use Economy.modify_currency\n- Include reason and admin_id in metadata\n- Handle :insufficient_funds and :invalid_currency errors","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.024812-08:00","updated_at":"2025-12-21T22:43:44.105809-08:00","labels":["economy","migration","portal"],"dependencies":[{"issue_id":"bzglr-e3e","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:31.073338-08:00","created_by":"daemon"},{"issue_id":"bzglr-e3e","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.842189-08:00","created_by":"daemon"}]}
{"id":"bzglr-ejm","title":"Auction house telemetry","description":"Add telemetry for auction house: listings created, items sold, items expired, buyouts, bids. Track prices, fees, and market activity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.444201-08:00","updated_at":"2025-12-21T23:02:23.409523-08:00","closed_at":"2025-12-21T23:02:23.409523-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-ejm","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.363256-08:00","created_by":"daemon"},{"issue_id":"bzglr-ejm","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.66189-08:00","created_by":"daemon"}]}
{"id":"bzglr-f9r","title":"Add release configuration to mix.exs","description":"Add releases function to mix.exs with all umbrella app configurations","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:23.663799-08:00","updated_at":"2025-12-21T22:43:44.099052-08:00","dependencies":[{"issue_id":"bzglr-f9r","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:45.128182-08:00","created_by":"daemon"}]}
{"id":"bzglr-lye","title":"Migrate quest reward handler to Economy","description":"Update quest reward handler to use Economy.modify_currency instead of direct Inventory calls.\n\nFiles:\n- Modify: apps/bezgelor_world/lib/bezgelor_world/quest/reward_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Update add_currency/3 to use Economy.modify_currency with :quest_reward source\n- Update grant_currency/3 to pass quest_id as source_id\n- Run quest tests to verify","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:52.544041-08:00","updated_at":"2025-12-21T22:43:44.111968-08:00","labels":["economy","migration","quest"],"dependencies":[{"issue_id":"bzglr-lye","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.369936-08:00","created_by":"daemon"},{"issue_id":"bzglr-lye","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.566993-08:00","created_by":"daemon"}]}
{"id":"bzglr-n8q","title":"Add economy configuration","description":"Add economy tracking configuration to config/config.exs.\n\nFiles:\n- Modify: config/config.exs\n\nConfiguration keys:\n- gold_gain_per_hour_threshold: 100_000\n- gold_balance_max_threshold: 1_000_000\n- transactions_per_minute_threshold: 60\n- discord_webhook_url: from ECONOMY_DISCORD_WEBHOOK env var\n- dashboard_update_interval_ms: 5_000","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:51.952735-08:00","updated_at":"2025-12-21T22:43:44.112283-08:00","labels":["config","economy"],"dependencies":[{"issue_id":"bzglr-n8q","depends_on_id":"bzglr-aep","type":"blocks","created_at":"2025-12-21T00:55:11.063661-08:00","created_by":"daemon"},{"issue_id":"bzglr-n8q","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.743298-08:00","created_by":"daemon"}]}
{"id":"bzglr-nht","title":"Create Fly.io deployment documentation","description":"Create docs/fly-deployment.md with setup instructions and useful commands","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:26.206942-08:00","updated_at":"2025-12-21T22:43:44.097444-08:00","dependencies":[{"issue_id":"bzglr-nht","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.333233-08:00","created_by":"daemon"}]}
{"id":"bzglr-q4p","title":"Migrate vendor sell handler to Economy","description":"Update vendor sell handler to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_protocol/lib/bezgelor_protocol/handler/vendor_sell_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.add_currency with Economy.modify_currency using :vendor_sell source\n- Include item_id and quantity in metadata","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:53.118896-08:00","updated_at":"2025-12-21T22:43:44.10631-08:00","labels":["economy","migration","vendor"],"dependencies":[{"issue_id":"bzglr-q4p","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.697699-08:00","created_by":"daemon"},{"issue_id":"bzglr-q4p","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.197108-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin","title":"Telemetry Metrics Dashboard","description":"Store telemetry events in Postgres with rollup aggregation and Chart.js visualization in Phoenix LiveView. Hybrid storage: 48h raw events, 14d minute buckets, 90d hour buckets, 1yr day buckets. Tabbed dashboard (Server, Auth, Gameplay, Combat) with time range selection and auto-refresh.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-21T03:00:57.032109-08:00","updated_at":"2025-12-21T22:43:44.103214-08:00"}
{"id":"bzglr-qin.1","title":"Create TelemetryEvent schema","description":"Create apps/bezgelor_db/lib/bezgelor_db/schema/telemetry_event.ex with event_name, measurements (map), metadata (map), occurred_at fields. Add test in apps/bezgelor_db/test/schema/telemetry_event_test.exs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:13.621752-08:00","updated_at":"2025-12-21T22:53:04.950692-08:00","closed_at":"2025-12-21T22:53:04.950692-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.1","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:13.625395-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.10","title":"Add MetricsDashboardLive Auth tab","description":"Add Auth tab to metrics dashboard showing login rate, success/failure breakdown (bar chart), session starts.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:50.186827-08:00","updated_at":"2025-12-21T22:43:44.100963-08:00","dependencies":[{"issue_id":"bzglr-qin.10","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:50.187372-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.10","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:41.582606-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.11","title":"Add MetricsDashboardLive Gameplay tab","description":"Add Gameplay tab to metrics dashboard showing players entering world, quests accepted, quests completed.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:50.702477-08:00","updated_at":"2025-12-21T22:43:44.100755-08:00","dependencies":[{"issue_id":"bzglr-qin.11","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:50.702883-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.11","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:41.844717-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.12","title":"Add MetricsDashboardLive Combat tab","description":"Add Combat tab to metrics dashboard showing creatures killed, XP awarded, damage dealt.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:51.174634-08:00","updated_at":"2025-12-21T22:43:44.100544-08:00","dependencies":[{"issue_id":"bzglr-qin.12","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:51.178262-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.12","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.102667-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.13","title":"Add route for Metrics Dashboard","description":"Add 'live \"/metrics\", Admin.MetricsDashboardLive, :index' to admin scope in router.ex","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:03.4826-08:00","updated_at":"2025-12-21T22:43:44.100331-08:00","dependencies":[{"issue_id":"bzglr-qin.13","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:03.483625-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.13","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.607069-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.14","title":"Add Metrics to admin sidebar","description":"Add Metrics Dashboard link to admin sidebar in layouts.ex with server.view_logs permission","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:04.205152-08:00","updated_at":"2025-12-21T22:43:44.100105-08:00","dependencies":[{"issue_id":"bzglr-qin.14","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:04.206068-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.14","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.791127-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.15","title":"Fix Chart.js hook event targeting","description":"Update hook to listen for update_chart_\u003cchartId\u003e events. Update LiveView to push_event with chart-specific event names.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:04.786729-08:00","updated_at":"2025-12-21T22:43:44.099897-08:00","dependencies":[{"issue_id":"bzglr-qin.15","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:04.787122-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.15","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:43.208095-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.16","title":"Add empty state handling for charts","description":"Update chart_card component to show friendly empty state when no data available for selected time range","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:05.542637-08:00","updated_at":"2025-12-21T22:43:44.099682-08:00","dependencies":[{"issue_id":"bzglr-qin.16","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:05.54899-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.16","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:43.423099-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.17","title":"Run full test suite","description":"Run mix test --include database and fix any failures","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:12.00334-08:00","updated_at":"2025-12-21T22:43:44.099461-08:00","dependencies":[{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:12.00386-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin.7","type":"blocks","created_at":"2025-12-21T03:02:44.017878-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin.14","type":"blocks","created_at":"2025-12-21T03:02:44.488522-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.18","title":"Manual integration test","description":"Start server, emit test telemetry events, verify storage and chart display. Test tab switching, time range selection, auto-refresh.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:12.358241-08:00","updated_at":"2025-12-21T22:43:44.099251-08:00","dependencies":[{"issue_id":"bzglr-qin.18","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:12.359201-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.18","depends_on_id":"bzglr-qin.17","type":"blocks","created_at":"2025-12-21T03:02:45.201814-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.2","title":"Create TelemetryBucket schema","description":"Create apps/bezgelor_db/lib/bezgelor_db/schema/telemetry_bucket.ex with event_name, bucket_type (minute/hour/day), bucket_start, count, sum/min/max_values, metadata_counts. Add test.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.011029-08:00","updated_at":"2025-12-21T22:53:29.283584-08:00","closed_at":"2025-12-21T22:53:29.283584-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.2","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.011472-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.3","title":"Create telemetry tables migration","description":"Create migration for telemetry_events and telemetry_buckets tables with appropriate indexes. Unique index on (event_name, bucket_type, bucket_start) for upserts.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.340772-08:00","updated_at":"2025-12-21T22:43:44.102563-08:00","dependencies":[{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.341162-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin.1","type":"blocks","created_at":"2025-12-21T03:02:29.90845-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin.2","type":"blocks","created_at":"2025-12-21T03:02:30.103995-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.4","title":"Create Metrics context module","description":"Create apps/bezgelor_db/lib/bezgelor_db/metrics.ex with insert_events/1, query_events/3, query_buckets/4, upsert_bucket/1, purge_events_before/1, purge_buckets_before/2. Add database tests.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.74226-08:00","updated_at":"2025-12-21T22:43:44.102331-08:00","dependencies":[{"issue_id":"bzglr-qin.4","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.742615-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.4","depends_on_id":"bzglr-qin.3","type":"blocks","created_at":"2025-12-21T03:02:21.660179-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.5","title":"Create TelemetryCollector GenServer","description":"Create apps/bezgelor_portal/lib/bezgelor_portal/telemetry_collector.ex. Attach to telemetry events, buffer in memory, flush to DB every 5 seconds. Batch inserts for performance.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:30.649737-08:00","updated_at":"2025-12-21T22:43:44.102106-08:00","dependencies":[{"issue_id":"bzglr-qin.5","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:30.664799-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.5","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:22.059602-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.6","title":"Create RollupScheduler GenServer","description":"Create apps/bezgelor_portal/lib/bezgelor_portal/rollup_scheduler.ex. Aggregate raw events to minute buckets every 1min, minutes to hours every 1hr, hours to days every 24hr. Purge old data per retention policy.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:31.124477-08:00","updated_at":"2025-12-21T22:43:44.101873-08:00","dependencies":[{"issue_id":"bzglr-qin.6","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:31.124936-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.6","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:22.445086-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.7","title":"Add collectors to application supervisor","description":"Modify apps/bezgelor_portal/lib/bezgelor_portal/application.ex to add TelemetryCollector and RollupScheduler to supervision tree.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:31.490131-08:00","updated_at":"2025-12-21T22:43:44.101641-08:00","dependencies":[{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:31.490624-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin.5","type":"blocks","created_at":"2025-12-21T03:02:30.586834-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin.6","type":"blocks","created_at":"2025-12-21T03:02:30.812682-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.8","title":"Create Chart.js LiveView hook","description":"Create apps/bezgelor_portal/assets/js/metrics_chart.js with MetricsChart hook. Handle update_chart events, support line/bar/area charts. Add Chart.js CDN to layout. Register hook in app.js.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:32.410666-08:00","updated_at":"2025-12-21T22:54:22.491601-08:00","closed_at":"2025-12-21T22:54:22.491601-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.8","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:32.418561-08:00","created_by":"daemon"}]}
{"id":"bzglr-qin.9","title":"Create MetricsDashboardLive - Server tab","description":"Create apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/metrics_dashboard_live.ex with Server tab showing players online, creatures spawned, active zones charts. Time range selector with presets + custom.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:49.388194-08:00","updated_at":"2025-12-21T22:43:44.101172-08:00","dependencies":[{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:49.389812-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin.8","type":"blocks","created_at":"2025-12-21T03:02:31.233913-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:31.641386-08:00","created_by":"daemon"}]}
{"id":"bzglr-qjn","title":"Create EconomyAlert schema","description":"Create the EconomyAlert schema for tracking threshold violations and suspicious activity.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/schema/economy_alert.ex\n- Test: apps/bezgelor_db/test/schema/economy_alert_test.exs\n\nSchema fields:\n- character_id (reference)\n- type (enum: excessive_gold_gain, high_balance, suspicious_pattern, rapid_transactions)\n- details (map)\n- status (enum: open, investigating, resolved, dismissed)\n- resolved_by_id (integer)\n- resolution_notes (string)\n- timestamps\n\nIncludes resolve_changeset/4 for updating alert status.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:13.414102-08:00","updated_at":"2025-12-21T22:49:20.906404-08:00","closed_at":"2025-12-21T22:49:20.906404-08:00","close_reason":"Closed","labels":["economy","schema"],"dependencies":[{"issue_id":"bzglr-qjn","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.962792-08:00","created_by":"daemon"}]}
{"id":"bzglr-rmg","title":"Economy Telemetry Integration","description":"Add comprehensive telemetry instrumentation across all economy-related systems to enable real-time monitoring, analytics, and debugging of in-game economic activity via LiveDashboard.","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2025-12-21T02:53:34.123857-08:00","updated_at":"2025-12-21T22:46:57.738964-08:00"}
{"id":"bzglr-tlg","title":"Vendor transaction telemetry","description":"Add telemetry for NPC vendor interactions: items purchased, items sold, prices, vendor ID. Enables economy flow analysis.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.122857-08:00","updated_at":"2025-12-21T22:59:52.373982-08:00","closed_at":"2025-12-21T22:59:52.373982-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-tlg","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.217422-08:00","created_by":"daemon"},{"issue_id":"bzglr-tlg","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.423334-08:00","created_by":"daemon"}]}
{"id":"bzglr-u76","title":"Create Economy context module","description":"Create the Economy context module as the single entry point for all currency changes.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/economy.ex\n- Test: apps/bezgelor_db/test/economy_test.exs\n\nCore API:\n- modify_currency/5: Atomic currency modification with transaction logging\n- list_transactions/1: Query transactions with filters\n- count_transactions/1: Count matching transactions\n\nAnalytics:\n- total_currency_in_circulation/1: Sum all character balances\n- sum_transactions/2: Sum transactions by currency type with date range\n- top_currency_holders/2: Get characters with highest balances\n- transactions_by_source/1: Breakdown by source type\n\nAlert Management:\n- create_alert/1, list_alerts/1, resolve_alert/4\n- open_alert_count/0\n\nEmits telemetry events for real-time dashboard updates.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:15.199939-08:00","updated_at":"2025-12-21T22:56:45.928414-08:00","closed_at":"2025-12-21T22:56:45.928414-08:00","close_reason":"Closed","labels":["context","economy"],"dependencies":[{"issue_id":"bzglr-u76","depends_on_id":"bzglr-7d1","type":"blocks","created_at":"2025-12-21T00:55:03.946501-08:00","created_by":"daemon"},{"issue_id":"bzglr-u76","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.551648-08:00","created_by":"daemon"},{"issue_id":"bzglr-u76","depends_on_id":"bzglr-30l","type":"blocks","created_at":"2025-12-21T22:14:40.006024-08:00","created_by":"daemon"}]}
{"id":"bzglr-uvy","title":"Player trade telemetry","description":"Add telemetry for player-to-player trades: items exchanged, currency exchanged, trade completions/cancellations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:54.077206-08:00","updated_at":"2025-12-21T23:03:12.864663-08:00","closed_at":"2025-12-21T23:03:12.864663-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-uvy","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.691177-08:00","created_by":"daemon"},{"issue_id":"bzglr-uvy","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:11.195024-08:00","created_by":"daemon"}]}
{"id":"bzglr-vdl","title":"Create multi-stage Dockerfile","description":"Create Dockerfile with builder and runner stages for Elixir release","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.999991-08:00","updated_at":"2025-12-21T22:43:44.098245-08:00","dependencies":[{"issue_id":"bzglr-vdl","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.681038-08:00","created_by":"daemon"}]}
{"id":"bzglr-wgl","title":"Mail system telemetry","description":"Add telemetry for mail with economic impact: currency attachments sent/received, item attachments, COD transactions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.767784-08:00","updated_at":"2025-12-21T23:00:22.467466-08:00","closed_at":"2025-12-21T23:00:22.467466-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-wgl","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.526129-08:00","created_by":"daemon"},{"issue_id":"bzglr-wgl","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.944831-08:00","created_by":"daemon"}]}
{"id":"bzglr-ziw","title":"Create Economy context unit tests","description":"Create comprehensive unit tests for the Economy context module.\n\nTest file: apps/bezgelor_db/test/economy_test.exs\n\nTest coverage:\n- modify_currency/5: valid changes, negative amounts, insufficient funds\n- list_transactions/1: filtering by character, source, date range\n- count_transactions/1: with various filters\n- total_currency_in_circulation/1: for each currency type\n- sum_transactions/2: date range handling\n- top_currency_holders/2: limit and currency type\n- transactions_by_source/1: aggregation\n- create_alert/1: valid and invalid alert types\n- list_alerts/1: filtering by status\n- resolve_alert/4: status transitions\n- open_alert_count/0: accuracy\n\nUse Ecto sandbox for isolation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T22:14:40.403648-08:00","updated_at":"2025-12-21T23:07:31.921575-08:00","closed_at":"2025-12-21T23:07:31.921575-08:00","close_reason":"Closed","labels":["economy testing"],"dependencies":[{"issue_id":"bzglr-ziw","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:52.711544-08:00","created_by":"daemon"},{"issue_id":"bzglr-ziw","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:16.465595-08:00","created_by":"daemon"}]}
