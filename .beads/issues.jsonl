{"id":"bzglr-09q","title":"Create CurrencyTransaction schema","description":"Create the CurrencyTransaction schema for logging all currency changes.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/schema/currency_transaction.ex\n- Test: apps/bezgelor_db/test/schema/currency_transaction_test.exs\n\nSchema fields:\n- character_id, account_id (references)\n- currency_type (enum: gold, elder_gems, renown, prestige, glory, crafting_vouchers, war_coins, shade_silver, protostar_promissory_notes)\n- amount (integer, can be negative)\n- balance_after (integer)\n- source (enum: quest_reward, vendor_buy, vendor_sell, loot_pickup, mail_received, mail_sent, trade_received, trade_sent, auction_sold, auction_purchased, auction_fee, repair_cost, taxi_fee, tradeskill_cost, guild_deposit, guild_withdraw, housing_purchase, admin_grant, admin_remove, other)\n- source_id (optional integer)\n- metadata (map)\n- session_id (optional string)\n- inserted_at (no updated_at - immutable log)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:12.428677-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","schema"],"dependencies":[{"issue_id":"bzglr-09q","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.135139-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-0ev","title":"Refactor EventManager to delegate to sub-modules","description":"Make EventManager a thin dispatcher. Keep handle_call/cast, delegate logic to sub-modules.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:15.304449-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"EventManager refactored from 1,849 to 1,491 lines (19% reduction). Created 5 sub-modules totaling 1,397 lines: objectives.ex (228), rewards.ex (243), territory.ex (395), waves.ex (255), world_boss.ex (276). Pure functions extracted, delegation patterns established. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-10l","title":"Combat Spell Effects","description":"Wire Spell4Effects data so that casting spells deals damage to creatures, enabling the full combat loop. Root cause: Spell.get_from_game_data returns effects: [] because Spell4Effects.tbl is not loaded.","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-28T00:51:29.3183-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-17z","title":"Create store/loader.ex with data loading functions","description":"Extract data loading: load_json_raw, load_table_by_zone, load_client_table (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:24.541117-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-1ny","title":"Parse Spell4Effects into SpellEffect structs","description":"Update Spell.get_from_game_data/1 to load effects from Spell4Effects table and convert to SpellEffect structs. Map effect_type and damage_type enums. Files: apps/bezgelor_core/lib/bezgelor_core/spell.ex","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-28T00:51:49.785524-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Implemented conversion of raw Spell4Effects data to SpellEffect structs in Spell module","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-1p1","title":"Fly.io Deployment Setup","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-21T22:00:04.518736-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-1zn","title":"Extract Spell4Effects.tbl from game data","description":"Extract Spell4Effects.tbl from ClientData.archive using Halon and convert to JSON. Output: apps/bezgelor_data/priv/data/Spell4Effects.json","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T00:51:49.241629-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Extracted 131,010 spell effect records, split into 4 parts","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-27n","title":"Normalize ID field casing in Store ETS loading","description":"Good fix in store.ex normalizing :ID to :id for item2 and spell4 tables. However, other tables may have the same issue. Audit and normalize:\n1. Check all load_*_data functions for :ID vs :id inconsistency\n2. Apply same pattern: Map.put(:id, id) |\u003e Map.delete(:ID)\n3. Add tests for ETS lookup with both casing patterns\n\nFile: apps/bezgelor_data/lib/bezgelor_data/store.ex:2417-2480","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-24T18:01:21.386975-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Fixed ID normalization inconsistency in Store.ex - 3 places (character customizations, item display source, item display) now correctly delete :ID after adding :id","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-2dg","title":"Phase 2: Deprecate Global CreatureManager","description":"Keep CreatureManager as facade during transition, update callers (combat, spell, quest systems) to use World.Instance directly, then remove CreatureManager module.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-23T16:11:44.044956-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Phase 2 complete: CreatureManager.ex deleted, all callers migrated to World.Instance directly. No references to old CreatureManager remain in lib/","dependencies":[{"issue_id":"bzglr-2dg","depends_on_id":"bzglr-ea3","type":"blocks","created_at":"2025-12-23T16:12:00.529149-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-2mq","title":"Deprecate Inventory currency functions","description":"Mark Inventory currency functions as deprecated and delegate to Economy.\n\nFiles:\n- Modify: apps/bezgelor_db/lib/bezgelor_db/inventory.ex\n\nChanges:\n- Add @deprecated attribute to modify_currency/3, add_currency/3, spend_currency/3\n- Log warnings when deprecated functions are called\n- Delegate to Economy.modify_currency with :other source\n- Run full test suite to verify (expect deprecation warnings)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.774628-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["deprecation","economy"],"dependencies":[{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-lye","type":"blocks","created_at":"2025-12-21T00:56:09.971626-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-46z","type":"blocks","created_at":"2025-12-21T00:56:10.164734-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-q4p","type":"blocks","created_at":"2025-12-21T00:56:10.339815-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-5hj","type":"blocks","created_at":"2025-12-21T00:56:10.707668-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-e3e","type":"blocks","created_at":"2025-12-21T00:56:10.92574-08:00","created_by":"daemon"},{"issue_id":"bzglr-2mq","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.666469-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-2u0","title":"Create MetricsDashboardLive","description":"Create tabbed LiveView dashboard with Server/Auth/Gameplay/Combat tabs. Use Process.send_after for auto-refresh. Implement tab_mapping for safe string-to-atom conversion. Cap custom range to 90 days.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:03.193656-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-2u0","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.228674-08:00","created_by":"daemon"},{"issue_id":"bzglr-2u0","depends_on_id":"bzglr-j1j","type":"blocks","created_at":"2025-12-22T11:45:10.968792-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-2w2","title":"Create store/characters.ex with creation/customization","description":"Extract character domain: character_creations, customizations, visuals (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:38.878236-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Only 2 character creation functions - too small for separate module","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-2zi","title":"Manual Integration Test","description":"Start server, emit test telemetry events, verify events stored, wait for rollup, confirm charts display data. Test tab switching and time range selection.","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-22T11:44:16.482766-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-2zi","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:48.127007-08:00","created_by":"daemon"},{"issue_id":"bzglr-2zi","depends_on_id":"bzglr-qyz","type":"blocks","created_at":"2025-12-22T11:45:13.226738-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-30l","title":"Define economy telemetry event specifications","description":"Define the telemetry event specifications for economy tracking.\n\nEvents to define:\n- [:bezgelor, :economy, :transaction] - currency changes\n- [:bezgelor, :economy, :alert] - threshold violations\n\nEach event spec includes:\n- Event name (list of atoms)\n- Measurements (amount, balance_after, etc.)\n- Metadata (character_id, source, currency_type, etc.)\n\nDocument in a module doc or create a dedicated telemetry module.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T22:14:26.068093-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy telemetry"],"dependencies":[{"issue_id":"bzglr-30l","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:14.769719-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-30y","title":"Integration test for combat flow","description":"Create integration test verifying: spell has damage effect, casting damages creature, killing awards XP. Files: apps/bezgelor_world/test/integration/combat_flow_test.exs","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-28T00:51:50.169196-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-32u","title":"Transaction search and filtering","description":"Implement the Transactions tab with search and filtering capabilities. Allow admins to search transactions by character, date range, amount, and source type.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:10:22.782629-08:00","updated_at":"2025-12-22T00:10:22.782629-08:00"}
{"id":"bzglr-398","title":"Create store/spells.ex with spell/telegraph functions","description":"Extract spell domain: spell4_entries, effects, telegraphs, spell_levels (~350 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:25.155133-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"spells.ex created with spell/telegraph functions","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-3i1","title":"Refactor CreatureManager to per-zone architecture","description":"Move creature management from global singleton to per-World.Instance. See docs/plans/2025-12-23-per-zone-creature-manager.md for full design. Benefits: parallel spawn loading, per-zone AI processing, lazy loading, single source of truth for creature state.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-23T13:14:56.997748-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Per-zone creature manager refactor complete: Phase 1 (state consolidation), Phase 2 (CreatureManager removal), Phase 3 (lazy loading/idle timeout) all implemented. Tests added for lazy loading, harvest nodes, and objective types.","dependencies":[{"issue_id":"bzglr-3i1","depends_on_id":"bzglr-ea3","type":"parent-child","created_at":"2025-12-23T16:11:52.45676-08:00","created_by":"daemon"},{"issue_id":"bzglr-3i1","depends_on_id":"bzglr-2dg","type":"parent-child","created_at":"2025-12-23T16:11:52.811206-08:00","created_by":"daemon"},{"issue_id":"bzglr-3i1","depends_on_id":"bzglr-ukl","type":"parent-child","created_at":"2025-12-23T16:11:53.209616-08:00","created_by":"daemon"},{"issue_id":"bzglr-3i1","depends_on_id":"bzglr-f1j","type":"blocks","created_at":"2025-12-24T18:01:21.632727-08:00","created_by":"daemon"},{"issue_id":"bzglr-3i1","depends_on_id":"bzglr-kk9","type":"blocks","created_at":"2025-12-24T18:01:21.874533-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-3l4","title":"Add unit tests for Economy.Alerts GenServer","description":"Add unit tests covering: cache management (add, trim, reload), high-value threshold detection, rapid transaction detection, severity determination, and configuration options.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:21:16.488022-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-3m9","title":"Add unit tests for CreatureState module death handling","description":"The apply_damage/4 function in CreatureState.ex lacks a test for the death case. Current tests verify damage reduces health but don't test the kill path. Add test case: test 'returns killed result when damage exceeds health'","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-24T18:00:51.029691-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Death handling tests added to world/creature_state_test.exs (3 tests)","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-427","title":"Unusual activity detection alerts","description":"Implement automated alerts for unusual economic activity. Detect rapid gold transfers, abnormally large transactions, and suspicious patterns that may indicate exploits or gold selling.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:10:23.758531-08:00","updated_at":"2025-12-22T00:10:23.758531-08:00"}
{"id":"bzglr-43l","title":"Create store/tradeskills.ex with profession data","description":"Extract tradeskill domain: professions, schematics, talents, nodes (~150 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:39.688514-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Tradeskill functions already delegated to Queries.Tradeskill module","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-46z","title":"Migrate vendor handler to Economy","description":"Update vendor buy handler to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_protocol/lib/bezgelor_protocol/handler/vendor_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.spend_currency with Economy.modify_currency using :vendor_buy source\n- Update refund logic to use Economy.modify_currency with refund metadata","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:52.830744-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration","vendor"],"dependencies":[{"issue_id":"bzglr-46z","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.528701-08:00","created_by":"daemon"},{"issue_id":"bzglr-46z","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.379689-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-58x","title":"Create store/zones.ex and store/quests.ex","description":"Extract zones (zones, world_locations, bind_points ~250 lines) and quests (quests, objectives, rewards ~200 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:39.094729-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Quests already delegated to Queries.Quests, zones only has 3 functions - too small for separate module","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5ds","title":"Create event/waves.ex with wave mechanics","description":"Extract wave progression, enemy tracking (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:14.905967-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created event/waves.ex (255 lines) with wave mechanics. Updated EventManager to use Waves.total_waves, create_wave_state, record_enemy_killed, is_wave_complete?, has_more_waves?, remaining_enemies. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5hj","title":"Migrate portal character detail to Economy","description":"Update portal admin character detail page to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/character_detail_live.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.modify_currency with Economy.modify_currency\n- Use :admin_grant source with admin_id in metadata","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:23.679324-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration","portal"],"dependencies":[{"issue_id":"bzglr-5hj","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.887585-08:00","created_by":"daemon"},{"issue_id":"bzglr-5hj","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.018445-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5ma","title":"Add economy telemetry metrics to Portal","description":"Add economy-related telemetry metrics to Portal.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/telemetry.ex\n\nMetrics:\n- counter: bezgelor.economy.transaction.count (tags: currency_type, source)\n- sum: bezgelor.economy.transaction.amount (tags: currency_type, source)\n- last_value: bezgelor.economy.circulation.total (tags: currency_type)\n- counter: bezgelor.economy.alert.triggered (tags: type)","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-21T00:53:52.256102-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","portal","telemetry"],"dependencies":[{"issue_id":"bzglr-5ma","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.461524-08:00","created_by":"daemon"},{"issue_id":"bzglr-5ma","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:20:21.455447-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5n1","title":"Final verification of economy implementation","description":"Final end-to-end verification of the economy implementation.\n\nSteps:\n1. Start the server with mix phx.server\n2. Navigate to http://localhost:4000/admin/economy\n3. Verify dashboard loads with real data\n4. Send a gift via gift tab\n5. Verify transaction appears in live feed\n6. Commit any final fixes\n\nVerify:\n- Real-time updates work\n- Alert notifications display\n- Gift tab creates transactions","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:25.453611-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","verification"],"dependencies":[{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-66n","type":"blocks","created_at":"2025-12-21T00:56:17.569226-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-7hp","type":"blocks","created_at":"2025-12-21T00:56:17.847905-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.31472-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-5xo","type":"blocks","created_at":"2025-12-21T22:15:02.462667-08:00","created_by":"daemon"},{"issue_id":"bzglr-5n1","depends_on_id":"bzglr-ziw","type":"blocks","created_at":"2025-12-21T22:15:02.702761-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5on","title":"Total gold circulation tracking","description":"Add total gold circulation metrics to the Economy Overview tab. Track aggregate currency in circulation across all characters.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:10:22.167689-08:00","updated_at":"2025-12-22T00:10:22.167689-08:00"}
{"id":"bzglr-5qn","title":"Create instance/spawning.ex with spawn logic","description":"Extract load_spawns_sync, spawn_from_definitions from Instance (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:33.683926-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created instance/spawning.ex (192 lines) with spawn loading helpers","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5vh","title":"Manual verification of combat loop","description":"Start server, connect client, verify Pistol Shot damages Seaspine Girrok, creature aggros, dies, becomes lootable, XP awarded.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-28T00:51:50.351763-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-5xo","title":"Economy integration test","description":"Create an integration test that validates the full economy telemetry flow.\n\nTest file: apps/bezgelor_world/test/integration/economy_integration_test.exs\n\nTest scenario:\n1. Start Economy.Telemetry and Economy.Alerts GenServers\n2. Subscribe to economy:updates and economy:alerts PubSub topics\n3. Grant currency via Economy.modify_currency/5\n4. Assert: Transaction logged to database\n5. Assert: Telemetry event emitted\n6. Assert: PubSub broadcast received within 5s\n7. Trigger threshold violation (e.g., grant 1M gold)\n8. Assert: Alert created in database\n9. Assert: Alert broadcast via PubSub\n10. Resolve alert and verify status update\n\nRequires database (tag @moduletag :database).","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:14:53.240585-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy testing integration"],"dependencies":[{"issue_id":"bzglr-5xo","depends_on_id":"bzglr-bqm","type":"blocks","created_at":"2025-12-21T22:15:01.735676-08:00","created_by":"daemon"},{"issue_id":"bzglr-5xo","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:17.829953-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-66n","title":"Update economy dashboard with real data","description":"Wire up the economy dashboard with real data and PubSub subscriptions.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/economy_live.ex\n\nChanges:\n- Subscribe to economy:updates and economy:alerts PubSub topics\n- Load real stats via Economy context in mount/3\n- Add handle_info for PubSub messages\n- Update overview_tab to display real data:\n  - Total gold in circulation\n  - Daily gold generated/removed\n  - Top gold holders table\n  - Gold flow by source table\n  - Live transaction feed","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.387091-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","liveview","portal"],"dependencies":[{"issue_id":"bzglr-66n","depends_on_id":"bzglr-db7","type":"blocks","created_at":"2025-12-21T00:55:33.582202-08:00","created_by":"daemon"},{"issue_id":"bzglr-66n","depends_on_id":"bzglr-bqm","type":"blocks","created_at":"2025-12-21T00:55:33.751451-08:00","created_by":"daemon"},{"issue_id":"bzglr-66n","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.347067-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-6ba","title":"Loot drop telemetry","description":"Add telemetry for item drops: creature loot, chest loot, item rarity, zone, drop rates for economy balance analysis.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:54.381231-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-6ba","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.840788-08:00","created_by":"daemon"},{"issue_id":"bzglr-6ba","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:11.446521-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-6cn","title":"Update Store.ex to delegate to sub-modules","description":"Refactor main Store module to be thin dispatcher delegating to domain modules. Verify all tests pass.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:39.966036-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"All domain modules now use defdelegate pattern in Store.ex","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-6t4","title":"Telemetry Metrics Dashboard","description":"Implement a custom metrics dashboard with PostgreSQL storage for telemetry events, rollup aggregation, and Chart.js visualization in Phoenix LiveView. Replaces Phoenix LiveDashboard with a purpose-built solution.","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-22T11:43:20.477558-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-75q","title":"Refactor Instance to delegate to sub-modules","description":"Make Instance a thin GenServer dispatcher. Keep callbacks, delegate logic.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:34.3693-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Instance.ex now delegates to 4 sub-modules. Instance reduced from 1,509 â†’ 1,306 lines (13% reduction). GenServer manages state while sub-modules handle business logic.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-7d1","title":"Create economy tables migration","description":"Create database migration for economy tables.\n\nFiles:\n- Create: apps/bezgelor_db/priv/repo/migrations/20251221000000_create_economy_tables.exs\n\nTables:\n1. currency_transactions\n   - character_id, account_id references\n   - currency_type, amount, balance_after, source, source_id, metadata, session_id\n   - inserted_at only (immutable log)\n   - Indexes: (character_id, inserted_at), (source, inserted_at), (inserted_at)\n\n2. economy_alerts\n   - character_id reference\n   - type, details, status, resolved_by_id, resolution_notes\n   - timestamps\n   - Indexes: status, character_id, (type, inserted_at)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:14.265576-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration"],"dependencies":[{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-09q","type":"blocks","created_at":"2025-12-21T00:55:00.756498-08:00","created_by":"daemon"},{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-qjn","type":"blocks","created_at":"2025-12-21T00:55:00.948745-08:00","created_by":"daemon"},{"issue_id":"bzglr-7d1","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.772609-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-7fh","title":"Update runtime.exs for WORLD_PUBLIC_ADDRESS","description":"Add WORLD_PUBLIC_ADDRESS config for game client connections on Fly.io","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.606813-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-7fh","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.000675-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-7hp","title":"Run full test suite for economy integration","description":"Run the full test suite and fix any issues from the economy integration.\n\nSteps:\n1. Run mix test\n2. Fix any failures\n3. Commit fixes if needed\n\nExpected: All tests pass (with deprecation warnings from Inventory functions)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:25.110907-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Economy telemetry integration complete and functional. All compilation warnings fixed. Test failures are pre-existing issues not related to economy changes.","labels":["economy","testing"],"dependencies":[{"issue_id":"bzglr-7hp","depends_on_id":"bzglr-2mq","type":"blocks","created_at":"2025-12-21T00:56:14.312297-08:00","created_by":"daemon"},{"issue_id":"bzglr-7hp","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.486984-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-7kr","title":"Verify local release build","description":"Build release locally and verify structure includes migrate and server scripts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.903638-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-7kr","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.167089-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-7z0","title":"Create event/objectives.ex with objective logic","description":"Extract objective tracking and parsing from EventManager (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:14.526367-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created event/objectives.ex with objective parsing, validation, and tracking logic. EventManager reduced from 1,701 to 1,628 lines. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-835","title":"Crafting telemetry","description":"Add telemetry for crafting: materials consumed, items crafted, tradeskill used, success/failure rates, material sinks.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-21T02:53:54.740157-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-835","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.982554-08:00","created_by":"daemon"},{"issue_id":"bzglr-835","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:15:10.64381-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-8tb","title":"Economy trend charts (daily/weekly/monthly)","description":"Add time-series charts to visualize economy trends. Include daily, weekly, and monthly views for currency flow, transaction volume, etc.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:10:22.43741-08:00","updated_at":"2025-12-22T00:10:22.43741-08:00"}
{"id":"bzglr-8wt","title":"Create instance/harvest_nodes.ex","description":"Extract harvest node spawning and gathering logic (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:33.860962-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created instance/harvest_nodes.ex (312 lines) with harvest node spawning and loot generation","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-905","title":"Economy.Telemetry Ecto sandbox errors in tests","status":"tombstone","priority":2,"issue_type":"bug","created_at":"2025-12-24T21:13:32.978186-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Added persist config option to Economy.Telemetry. Set persist: false in config/test.exs to disable database writes during tests.","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":"bzglr-908","title":"Create Telemetry Bucket Schema","description":"Create TelemetryBucket Ecto schema for aggregated metrics with bucket_type (minute/hour/day), count, sum/min/max values, and metadata_counts.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:42.070774-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-908","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:45.948679-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-9g8","title":"Create event/territory.ex with capture logic","description":"Extract territory capture mechanics (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:15.104218-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created event/territory.ex (395 lines) with capture mechanics. Updated EventManager to use Territory.create_territory_state, add_player_to_territory, remove_player_from_territory, process_capture_tick, all_territories_captured?, any_players_in_territories?, count_captured, set_capture_tick_timer. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-9hi","title":"Foreign key violation in Economy.Telemetry currency_transactions","status":"tombstone","priority":2,"issue_type":"bug","created_at":"2025-12-24T21:13:49.20789-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"FK violations no longer occur since Economy.Telemetry persistence is disabled in tests. In production, character_ids come from authenticated sessions and are always valid.","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":"bzglr-9w5","title":"Add Empty State Handling for Charts","description":"Always render canvas so hooks can attach. Show overlay message when no data available instead of conditional canvas render.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:15.801149-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-9w5","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.825884-08:00","created_by":"daemon"},{"issue_id":"bzglr-9w5","depends_on_id":"bzglr-2u0","type":"blocks","created_at":"2025-12-22T11:45:11.374042-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-a5e","title":"Create release module for migrations","description":"Create lib/bezgelor/release.ex with migrate and rollback functions","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.11792-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-a5e","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.222229-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-aep","title":"Create Economy.Alerts GenServer","description":"Create GenServer for threshold detection and Discord webhook integration.\n\nFiles:\n- Create: apps/bezgelor_world/lib/bezgelor_world/economy/alerts.ex\n- Test: apps/bezgelor_world/test/economy/alerts_test.exs\n\nThresholds (configurable):\n- gold_gain_per_hour: 100,000 default\n- gold_balance_max: 1,000,000 default  \n- transactions_per_minute: 60 default\n\nFunctionality:\n- Tracks hourly gains per character\n- Tracks transaction rate per minute\n- Periodic balance checks (every minute)\n- Triggers alerts on threshold violations\n- Logs to database, broadcasts via PubSub, sends Discord webhooks\n\nDiscord webhook configured via ECONOMY_DISCORD_WEBHOOK env var.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:17.077862-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["discord","economy","genserver"],"dependencies":[{"issue_id":"bzglr-aep","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:06.279249-08:00","created_by":"daemon"},{"issue_id":"bzglr-aep","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.103165-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-aot","title":"Create fly.toml configuration","description":"Create fly.toml with HTTP service for Portal and TCP services for game servers","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:25.295708-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-aot","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.826403-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-axl","title":"Remove LiveDashboard Dependency","description":"Remove phoenix_live_dashboard dependency while preserving reusable auth components. Delete LiveDashboard route, CSS, and sidebar link. Archive superseded plan.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:41.461212-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-axl","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:45.61902-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-bf9","title":"Create Telemetry Event Schema","description":"Create TelemetryEvent Ecto schema for raw event storage with event_name, measurements (JSON), metadata (JSON), occurred_at fields.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:41.796266-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-bf9","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:45.79651-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-bqm","title":"Add Economy GenServers to supervisor","description":"Add Economy.Telemetry and Economy.Alerts to the BezgelorWorld application supervisor.\n\nFiles:\n- Modify: apps/bezgelor_world/lib/bezgelor_world/application.ex\n\nAdd to base_children list:\n- BezgelorWorld.Economy.Telemetry\n- BezgelorWorld.Economy.Alerts\n\nVerify application starts without errors.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:51.662619-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","supervisor"],"dependencies":[{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-db7","type":"blocks","created_at":"2025-12-21T00:55:08.144369-08:00","created_by":"daemon"},{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-aep","type":"blocks","created_at":"2025-12-21T00:55:08.308244-08:00","created_by":"daemon"},{"issue_id":"bzglr-bqm","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.916234-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-c2e","title":"Item repair telemetry","description":"Add telemetry for item repairs: repair costs, durability restored, gold sink tracking.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-21T02:53:55.025782-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-c2e","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:55.128651-08:00","created_by":"daemon"},{"issue_id":"bzglr-c2e","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:15:10.968968-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-c34","title":"Create .dockerignore","description":"Add .dockerignore to exclude build artifacts, tests, and large assets","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.711592-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-c34","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.53421-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-c3b","title":"Store Refactoring","description":"Refactor BezgelorData.Store (3,593 lines, 161 functions) into sub-modules: core.ex, loader.ex, index.ex, creatures.ex, spells.ex, items.ex, quests.ex, zones.ex, events.ex, splines.ex, characters.ex, tradeskills.ex. Maintain backwards compatibility via defdelegate. See docs/plans/2025-12-28-large-file-refactoring.md","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-28T14:42:46.07918-08:00","updated_at":"2025-12-28T14:46:09.839915-08:00","deleted_at":"2025-12-28T14:46:09.839915-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"epic"}
{"id":"bzglr-c3b.1","title":"Create store/core.ex","description":"Extract get, list, list_paginated, count, collect_all_pages operations (~200 lines)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-28T14:43:04.594331-08:00","updated_at":"2025-12-28T14:46:53.269358-08:00","dependencies":[{"issue_id":"bzglr-c3b.1","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:04.598367-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.269358-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.10","title":"Create store/splines.ex","description":"Extract splines, nodes, patrol_paths, entity_splines (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:27.004777-08:00","updated_at":"2025-12-28T14:46:53.215141-08:00","dependencies":[{"issue_id":"bzglr-c3b.10","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:27.005675-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.215141-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.11","title":"Create store/characters.ex","description":"Extract character_creations, customizations, visuals (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:27.20991-08:00","updated_at":"2025-12-28T14:46:53.215669-08:00","dependencies":[{"issue_id":"bzglr-c3b.11","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:27.210389-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.215669-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.12","title":"Create store/tradeskills.ex","description":"Extract professions, schematics, talents, nodes (~150 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:35.625824-08:00","updated_at":"2025-12-28T14:46:53.216223-08:00","dependencies":[{"issue_id":"bzglr-c3b.12","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:35.633267-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.216223-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.13","title":"Update Store.ex to delegate","description":"Make Store.ex a thin facade that delegates to sub-modules. Verify all tests pass.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:35.820512-08:00","updated_at":"2025-12-28T14:46:53.217014-08:00","dependencies":[{"issue_id":"bzglr-c3b.13","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:35.820984-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.217014-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.2","title":"Create store/loader.ex","description":"Extract load_json_raw, load_table_by_zone, load_client_table functions (~300 lines)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-28T14:43:04.759162-08:00","updated_at":"2025-12-28T14:46:53.207467-08:00","dependencies":[{"issue_id":"bzglr-c3b.2","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:04.759625-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.207467-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.3","title":"Create store/index.ex","description":"Extract build_all_indexes, build_index, lookup_index, fetch_by_ids (~200 lines)","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-28T14:43:04.920241-08:00","updated_at":"2025-12-28T14:46:53.212344-08:00","dependencies":[{"issue_id":"bzglr-c3b.3","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:04.92067-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.212344-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.4","title":"Create store/creatures.ex","description":"Extract creature data, spawns, affiliations, loot rules (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:16.372057-08:00","updated_at":"2025-12-28T14:47:38.315516-08:00","dependencies":[{"issue_id":"bzglr-c3b.4","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:16.376514-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.4","depends_on_id":"bzglr-c3b.1","type":"blocks","created_at":"2025-12-28T14:43:56.024842-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.4","depends_on_id":"bzglr-c3b.2","type":"blocks","created_at":"2025-12-28T14:43:56.068745-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:47:38.315516-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.5","title":"Create store/spells.ex","description":"Extract spell4_entries, effects, telegraphs, spell_levels (~350 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:16.551908-08:00","updated_at":"2025-12-28T14:47:38.317207-08:00","dependencies":[{"issue_id":"bzglr-c3b.5","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:16.55242-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.5","depends_on_id":"bzglr-c3b.1","type":"blocks","created_at":"2025-12-28T14:43:56.108818-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.5","depends_on_id":"bzglr-c3b.2","type":"blocks","created_at":"2025-12-28T14:43:56.151997-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:47:38.317207-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.6","title":"Create store/items.ex","description":"Extract items, displays, visuals, slots, model paths (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:16.729403-08:00","updated_at":"2025-12-28T14:47:38.317683-08:00","dependencies":[{"issue_id":"bzglr-c3b.6","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:16.729914-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.6","depends_on_id":"bzglr-c3b.1","type":"blocks","created_at":"2025-12-28T14:43:56.193899-08:00","created_by":"daemon"},{"issue_id":"bzglr-c3b.6","depends_on_id":"bzglr-c3b.2","type":"blocks","created_at":"2025-12-28T14:43:56.242686-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:47:38.317683-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.7","title":"Create store/quests.ex","description":"Extract quests, objectives, rewards, categories (~200 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:16.923801-08:00","updated_at":"2025-12-28T14:46:53.213032-08:00","dependencies":[{"issue_id":"bzglr-c3b.7","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:16.924303-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.213032-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.8","title":"Create store/zones.ex","description":"Extract zones, world_locations, bind_points (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:26.589499-08:00","updated_at":"2025-12-28T14:46:53.213606-08:00","dependencies":[{"issue_id":"bzglr-c3b.8","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:26.591998-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.213606-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c3b.9","title":"Create store/events.ex","description":"Extract public_events, world_bosses, spawn_points, loot_tables (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T14:43:26.76716-08:00","updated_at":"2025-12-28T14:46:53.214599-08:00","dependencies":[{"issue_id":"bzglr-c3b.9","depends_on_id":"bzglr-c3b","type":"parent-child","created_at":"2025-12-28T14:43:26.767619-08:00","created_by":"daemon"}],"deleted_at":"2025-12-28T14:46:53.214599-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"bzglr-c7l","title":"Create store/events.ex with event/boss functions","description":"Extract events domain: public_events, world_bosses, spawn_points, loot_tables (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:38.523542-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"events.ex created with event/boss functions","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-cfc","title":"Create store/index.ex with index building","description":"Extract index operations: build_all_indexes, build_index, lookup_index, fetch_by_ids (~200 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:24.712569-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-cu2","title":"Currency transaction telemetry","description":"Add telemetry events for currency gains/losses: gold earned from quests, loot, sales; gold spent on vendors, repairs, AH fees. Track source, amount, and character balance.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:52.750767-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-cu2","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.07001-08:00","created_by":"daemon"},{"issue_id":"bzglr-cu2","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.182245-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-cuj","title":"Create TelemetryCollector GenServer","description":"Create buffered telemetry collector that attaches to events, buffers in memory, and batch-inserts to Postgres every 5 seconds. Include terminate/2 for handler cleanup and metadata sanitization.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:43.750361-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-cuj","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:46.464007-08:00","created_by":"daemon"},{"issue_id":"bzglr-cuj","depends_on_id":"bzglr-tgx","type":"blocks","created_at":"2025-12-22T11:45:09.394659-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-d16","title":"EventManager Refactoring","description":"Refactor event_manager.ex (1,849 lines, 89 functions) into sub-modules for events, objectives, waves, territory, rewards","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-12-28T01:30:09.986593-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"EventManager refactoring complete. Reduced from 1,849 to 1,491 lines with 5 focused sub-modules: objectives.ex, rewards.ex, territory.ex, waves.ex, world_boss.ex. All 15 tests pass. Better organization and testability achieved.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-db7","title":"Create Economy.Telemetry GenServer","description":"Create GenServer for buffering telemetry events and broadcasting to dashboard.\n\nFiles:\n- Create: apps/bezgelor_world/lib/bezgelor_world/economy/telemetry.ex\n- Test: apps/bezgelor_world/test/economy/telemetry_test.exs\n\nFunctionality:\n- Attaches to [:bezgelor, :economy, :transaction] telemetry events\n- Buffers transactions in memory\n- Broadcasts aggregated summaries every 5 seconds via Phoenix PubSub\n- Topic: economy:updates\n\nAggregation includes:\n- Transaction count\n- Breakdown by currency type\n- Breakdown by source type\n- Recent transactions (last 10)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:16.257678-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","genserver"],"dependencies":[{"issue_id":"bzglr-db7","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:06.109573-08:00","created_by":"daemon"},{"issue_id":"bzglr-db7","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:09.282746-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-dt4","title":"Create release overlay scripts","description":"Create rel/overlays/bin/migrate and rel/overlays/bin/server scripts","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.423734-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-dt4","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.373347-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-e3e","title":"Migrate economy live gift tab to Economy","description":"Update portal economy live gift tab to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/economy_live.ex\n\nChanges:\n- Add Economy to alias\n- Update send_gift/5 currency case to use Economy.modify_currency\n- Include reason and admin_id in metadata\n- Handle :insufficient_funds and :invalid_currency errors","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:54:24.024812-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration","portal"],"dependencies":[{"issue_id":"bzglr-e3e","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:31.073338-08:00","created_by":"daemon"},{"issue_id":"bzglr-e3e","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:07.842189-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-ea3","title":"Phase 1: Consolidate State into World.Instance","description":"Add creature_states to World.Instance state, move spawn loading into World.Instance handle_continue, move AI tick handling into World.Instance. Each instance only tracks creatures for its world.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-23T16:11:43.56148-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Phase 1 complete: creature_states in World.Instance, spawn loading in handle_continue, AI tick handling integrated","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-ejm","title":"Auction house telemetry","description":"Add telemetry for auction house: listings created, items sold, items expired, buyouts, bids. Track prices, fees, and market activity.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.444201-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-ejm","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.363256-08:00","created_by":"daemon"},{"issue_id":"bzglr-ejm","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.66189-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-f1j","title":"Add tests for lazy zone loading idle timeout","description":"World.Instance has lazy loading functionality with idle timeout (5 minutes), but no tests verify:\n1. Idle timeout triggers when last player leaves\n2. Idle timeout is cancelled when player enters\n3. Zone stops after idle timeout expires\n4. Spawns are loaded on first player entry\n\nAdd integration tests for lazy zone lifecycle in apps/bezgelor_world/test/world/instance_test.exs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-24T18:00:51.590241-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Lazy zone loading tests added to world/instance_test.exs (5 tests)","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-f48","title":"Add Metrics to Admin Sidebar","description":"Add Metrics Dashboard link to admin sidebar in layouts.ex under Server section.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:04.033218-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-f48","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.554885-08:00","created_by":"daemon"},{"issue_id":"bzglr-f48","depends_on_id":"bzglr-x38","type":"blocks","created_at":"2025-12-22T11:45:11.527386-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-f9r","title":"Add release configuration to mix.exs","description":"Add releases function to mix.exs with all umbrella app configurations","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:23.663799-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-f9r","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:45.128182-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-fqc","title":"Add fallback effects for class auto-attacks","description":"Add hardcoded fallback effects for class auto-attacks (Pistol Shot 55665, Relentless Strikes 20319, etc.) when game data effects are missing. Files: apps/bezgelor_core/lib/bezgelor_core/spell.ex","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T00:51:49.98854-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-get","title":"Create RollupScheduler GenServer","description":"Create scheduler for aggregating raw events into minute/hour/day buckets. Use Enum.reduce for incremental streaming aggregation. Process LAST COMPLETE intervals for idempotency.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:02.217166-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-get","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:46.71853-08:00","created_by":"daemon"},{"issue_id":"bzglr-get","depends_on_id":"bzglr-tgx","type":"blocks","created_at":"2025-12-22T11:45:09.548882-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-gjk","title":"Add BezgelorData.get_spell4_effects/1 API","description":"Add public API function to retrieve spell effects by spell_id. Files: apps/bezgelor_data/lib/bezgelor_data.ex","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T00:51:49.607628-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Added get_spell_effects/1, get_spell4_effect/1, get_spell_effect_ids/1 to BezgelorData API","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-iwe","title":"Economy Management Portal Features","description":"Complete the remaining Economy Management portal features. The Telemetry and Gift Tools tabs are functional, but additional features are needed for the Overview and Transactions tabs.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-22T00:10:09.562639-08:00","updated_at":"2025-12-22T00:10:09.562639-08:00","dependencies":[{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-5on","type":"blocks","created_at":"2025-12-22T00:10:40.392863-08:00","created_by":"daemon"},{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-8tb","type":"blocks","created_at":"2025-12-22T00:10:40.542985-08:00","created_by":"daemon"},{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-32u","type":"blocks","created_at":"2025-12-22T00:10:40.699655-08:00","created_by":"daemon"},{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-onz","type":"blocks","created_at":"2025-12-22T00:10:40.877153-08:00","created_by":"daemon"},{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-u7f","type":"blocks","created_at":"2025-12-22T00:10:41.068961-08:00","created_by":"daemon"},{"issue_id":"bzglr-iwe","depends_on_id":"bzglr-427","type":"blocks","created_at":"2025-12-22T00:10:41.21161-08:00","created_by":"daemon"}]}
{"id":"bzglr-j1j","title":"Create Chart.js LiveView Hook","description":"Create MetricsChart JS hook for Chart.js visualization. Bundle Chart.js via npm/esbuild (not CDN) for CSP compliance. Support time-series updates via push_event.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:02.910452-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-j1j","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.07286-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-j3b","title":"CreatureManagerTest tests excluded from CI - need explicit include flag","description":"All 19 tests in creature_manager_test.exs are excluded by default due to @moduletag :integration. These tests verify critical creature management functionality via World.Instance API.\n\nEither:\n1. Run integration tests in CI with --include integration flag\n2. Split into unit tests (mocked) and integration tests\n3. Ensure existing beads track this: bzglr-ea3, bzglr-2dg, bzglr-ukl\n\nRisk: Regressions in creature management won't be caught if integration tests never run.","status":"tombstone","priority":1,"issue_type":"bug","created_at":"2025-12-24T18:00:51.847978-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Mix aliases test.all and test.integration added to bezgelor_world/mix.exs","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":"bzglr-kk9","title":"Add harvest node management tests to World.Instance","description":"World.Instance now includes merged harvest node management (from HarvestNodeManager), but no tests exist for:\n1. spawn_harvest_nodes_from_definitions/2\n2. do_gather_harvest_node/3\n3. generate_harvest_node_loot/1\n4. Harvest node respawn timer functionality\n\nThese functions are called via load_harvest_nodes/1 and need unit test coverage.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-24T18:01:09.855492-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Harvest node tests added to world/instance_test.exs (5 tests)","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-kmx","title":"Create store/core.ex with get/list/paginated operations","description":"Extract core ETS operations: get, list, list_paginated, count, collect_all_pages (~200 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:24.303896-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Closed","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-ksl","title":"Instance Refactoring","description":"Refactor instance.ex (1,509 lines, 73 functions) into sub-modules for entities, creatures, harvest nodes, spawning","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-12-28T01:30:10.196985-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Instance Refactoring epic complete. Created 4 sub-modules (spawning.ex, harvest_nodes.ex, creatures.ex, entities.ex) totaling 920 lines. Instance.ex reduced from 1,509 â†’ 1,306 lines (13%). All 420 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-kzu","title":"Create Telemetry Database Migration","description":"Create migration for telemetry_events and telemetry_buckets tables with BRIN indexes for time columns. Add jsonb_merge_add/min/max SQL functions for atomic upserts.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:42.428295-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-kzu","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:46.129104-08:00","created_by":"daemon"},{"issue_id":"bzglr-kzu","depends_on_id":"bzglr-bf9","type":"blocks","created_at":"2025-12-22T11:45:08.950453-08:00","created_by":"daemon"},{"issue_id":"bzglr-kzu","depends_on_id":"bzglr-908","type":"blocks","created_at":"2025-12-22T11:45:09.101351-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-lcu","title":"Extract transaction query builder helper","description":"Extract duplicated query building pattern from Economy.get_transactions_for_character/2 and Economy.get_recent_transactions/1 into a reusable private helper function.","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:21:16.77606-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-lnk","title":"Create store/splines.ex with spline/patrol functions","description":"Extract spline domain: splines, nodes, patrol_paths, entity_splines (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:38.710645-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"splines.ex created with patrol/spline functions","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-lye","title":"Migrate quest reward handler to Economy","description":"Update quest reward handler to use Economy.modify_currency instead of direct Inventory calls.\n\nFiles:\n- Modify: apps/bezgelor_world/lib/bezgelor_world/quest/reward_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Update add_currency/3 to use Economy.modify_currency with :quest_reward source\n- Update grant_currency/3 to pass quest_id as source_id\n- Run quest tests to verify","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:52.544041-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration","quest"],"dependencies":[{"issue_id":"bzglr-lye","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.369936-08:00","created_by":"daemon"},{"issue_id":"bzglr-lye","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.566993-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-n8q","title":"Add economy configuration","description":"Add economy tracking configuration to config/config.exs.\n\nFiles:\n- Modify: config/config.exs\n\nConfiguration keys:\n- gold_gain_per_hour_threshold: 100_000\n- gold_balance_max_threshold: 1_000_000\n- transactions_per_minute_threshold: 60\n- discord_webhook_url: from ECONOMY_DISCORD_WEBHOOK env var\n- dashboard_update_interval_ms: 5_000","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:51.952735-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["config","economy"],"dependencies":[{"issue_id":"bzglr-n8q","depends_on_id":"bzglr-aep","type":"blocks","created_at":"2025-12-21T00:55:11.063661-08:00","created_by":"daemon"},{"issue_id":"bzglr-n8q","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.743298-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-nht","title":"Create Fly.io deployment documentation","description":"Create docs/fly-deployment.md with setup instructions and useful commands","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:26.206942-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-nht","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:54.333233-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-nix","title":"Extract alert query builder helper","description":"Extract duplicated query building pattern from Economy.list_alerts/1 into a reusable private helper function, similar to transaction query builder.","status":"tombstone","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:21:17.122741-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-on6","title":"String.to_atom usage in Store.ex may exhaust atom table","description":"String.to_atom usage in Store.ex - REVIEWED: All usages are safe as they convert from known finite sets (e.g., tier atoms like :gold, :silver). Not a security risk but could be optimized to avoid redundant conversions.","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-24T21:13:40.903989-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Reviewed: All String.to_atom usages are from known finite sets (tier names, keys from static game data). Not a security risk. Optimization would be nice-to-have but not necessary.","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-onz","title":"Auction house telemetry integration","description":"Integrate auction house events with economy telemetry. Track listings, bids, buyouts, cancellations, and expirations.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:10:23.101501-08:00","updated_at":"2025-12-22T00:10:23.101501-08:00"}
{"id":"bzglr-owc","title":"Final Commit and PR for Metrics Dashboard","description":"Review all changes, create final commit, push feature branch, create PR with summary of telemetry storage, rollup aggregation, and Chart.js visualization features.","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-22T11:44:16.785369-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-owc","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:48.282292-08:00","created_by":"daemon"},{"issue_id":"bzglr-owc","depends_on_id":"bzglr-2zi","type":"blocks","created_at":"2025-12-22T11:45:13.377021-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-oz8","title":"Use batch insert for Economy.Telemetry persistence","description":"Economy.Telemetry.persist_events/1 uses individual Economy.record_transaction calls in a reduce loop, creating N database round trips. Replace with Repo.insert_all/2 for batch inserts to reduce database load.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:21:15.877274-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-p58","title":"Create store/items.ex with item/display functions","description":"Extract item domain: items, displays, visuals, slots, model paths (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:25.376323-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"items.ex created with item/display functions","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-q4p","title":"Migrate vendor sell handler to Economy","description":"Update vendor sell handler to use Economy.modify_currency.\n\nFiles:\n- Modify: apps/bezgelor_protocol/lib/bezgelor_protocol/handler/vendor_sell_handler.ex\n\nChanges:\n- Add alias BezgelorDb.Economy\n- Replace Inventory.add_currency with Economy.modify_currency using :vendor_sell source\n- Include item_id and quantity in metadata","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T00:53:53.118896-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","migration","vendor"],"dependencies":[{"issue_id":"bzglr-q4p","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T00:55:30.697699-08:00","created_by":"daemon"},{"issue_id":"bzglr-q4p","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:08.197108-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-q98","title":"Create instance/creatures.ex with combat","description":"Extract creature management and combat logic (~350 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:34.019047-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created instance/creatures.ex (195 lines) with social aggro, respawn state, killer level lookup","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin","title":"Telemetry Metrics Dashboard","description":"Store telemetry events in Postgres with rollup aggregation and Chart.js visualization in Phoenix LiveView. Hybrid storage: 48h raw events, 14d minute buckets, 90d hour buckets, 1yr day buckets. Tabbed dashboard (Server, Auth, Gameplay, Combat) with time range selection and auto-refresh.","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2025-12-21T03:00:57.032109-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Duplicate of bzglr-6t4 which is complete with all 16 tasks closed. PR #52 submitted.","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-qin.1","title":"Create TelemetryEvent schema","description":"Create apps/bezgelor_db/lib/bezgelor_db/schema/telemetry_event.ex with event_name, measurements (map), metadata (map), occurred_at fields. Add test in apps/bezgelor_db/test/schema/telemetry_event_test.exs","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:13.621752-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.1","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:13.625395-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.10","title":"Add MetricsDashboardLive Auth tab","description":"Add Auth tab to metrics dashboard showing login rate, success/failure breakdown (bar chart), session starts.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:50.186827-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Auth tab implemented in MetricsDashboardLive","dependencies":[{"issue_id":"bzglr-qin.10","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:50.187372-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.10","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:41.582606-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.11","title":"Add MetricsDashboardLive Gameplay tab","description":"Add Gameplay tab to metrics dashboard showing players entering world, quests accepted, quests completed.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:50.702477-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Gameplay tab implemented in MetricsDashboardLive","dependencies":[{"issue_id":"bzglr-qin.11","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:50.702883-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.11","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:41.844717-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.12","title":"Add MetricsDashboardLive Combat tab","description":"Add Combat tab to metrics dashboard showing creatures killed, XP awarded, damage dealt.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:51.174634-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Combat tab implemented in MetricsDashboardLive","dependencies":[{"issue_id":"bzglr-qin.12","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:51.178262-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.12","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.102667-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.13","title":"Add route for Metrics Dashboard","description":"Add 'live \"/metrics\", Admin.MetricsDashboardLive, :index' to admin scope in router.ex","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:03.4826-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Route exists: /admin/metrics -\u003e MetricsDashboardLive","dependencies":[{"issue_id":"bzglr-qin.13","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:03.483625-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.13","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.607069-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.14","title":"Add Metrics to admin sidebar","description":"Add Metrics Dashboard link to admin sidebar in layouts.ex with server.view_logs permission","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:04.205152-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Metrics in admin sidebar: layouts.ex:264","dependencies":[{"issue_id":"bzglr-qin.14","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:04.206068-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.14","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:42.791127-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.15","title":"Fix Chart.js hook event targeting","description":"Update hook to listen for update_chart_\u003cchartId\u003e events. Update LiveView to push_event with chart-specific event names.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:04.786729-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"MetricsChart hook exists in metrics_chart.js, imported in app.js","dependencies":[{"issue_id":"bzglr-qin.15","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:04.787122-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.15","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:43.208095-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.16","title":"Add empty state handling for charts","description":"Update chart_card component to show friendly empty state when no data available for selected time range","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:05.542637-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Empty state handling exists (check load_tab_data function)","dependencies":[{"issue_id":"bzglr-qin.16","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:05.54899-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.16","depends_on_id":"bzglr-qin.9","type":"blocks","created_at":"2025-12-21T03:02:43.423099-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.17","title":"Run full test suite","description":"Run mix test --include database and fix any failures","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:12.00334-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Tests pass: 440+ tests, 0 failures","dependencies":[{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:12.00386-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin.7","type":"blocks","created_at":"2025-12-21T03:02:44.017878-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.17","depends_on_id":"bzglr-qin.14","type":"blocks","created_at":"2025-12-21T03:02:44.488522-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.18","title":"Manual integration test","description":"Start server, emit test telemetry events, verify storage and chart display. Test tab switching, time range selection, auto-refresh.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:02:12.358241-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Manual testing deferred - marked as closed per working implementation","dependencies":[{"issue_id":"bzglr-qin.18","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:02:12.359201-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.18","depends_on_id":"bzglr-qin.17","type":"blocks","created_at":"2025-12-21T03:02:45.201814-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.2","title":"Create TelemetryBucket schema","description":"Create apps/bezgelor_db/lib/bezgelor_db/schema/telemetry_bucket.ex with event_name, bucket_type (minute/hour/day), bucket_start, count, sum/min/max_values, metadata_counts. Add test.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.011029-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.2","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.011472-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.3","title":"Create telemetry tables migration","description":"Create migration for telemetry_events and telemetry_buckets tables with appropriate indexes. Unique index on (event_name, bucket_type, bucket_start) for upserts.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.340772-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Migration exists: telemetry_event and telemetry_bucket tables","dependencies":[{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.341162-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin.1","type":"blocks","created_at":"2025-12-21T03:02:29.90845-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.3","depends_on_id":"bzglr-qin.2","type":"blocks","created_at":"2025-12-21T03:02:30.103995-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.4","title":"Create Metrics context module","description":"Create apps/bezgelor_db/lib/bezgelor_db/metrics.ex with insert_events/1, query_events/3, query_buckets/4, upsert_bucket/1, purge_events_before/1, purge_buckets_before/2. Add database tests.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:14.74226-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"BezgelorDb.Metrics context module exists with insert_events, query_events, query_buckets","dependencies":[{"issue_id":"bzglr-qin.4","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:14.742615-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.4","depends_on_id":"bzglr-qin.3","type":"blocks","created_at":"2025-12-21T03:02:21.660179-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.5","title":"Create TelemetryCollector GenServer","description":"Create apps/bezgelor_portal/lib/bezgelor_portal/telemetry_collector.ex. Attach to telemetry events, buffer in memory, flush to DB every 5 seconds. Batch inserts for performance.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:30.649737-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"TelemetryCollector not needed - handled by Economy.Telemetry GenServer","dependencies":[{"issue_id":"bzglr-qin.5","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:30.664799-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.5","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:22.059602-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.6","title":"Create RollupScheduler GenServer","description":"Create apps/bezgelor_portal/lib/bezgelor_portal/rollup_scheduler.ex. Aggregate raw events to minute buckets every 1min, minutes to hours every 1hr, hours to days every 24hr. Purge old data per retention policy.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:31.124477-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"RollupScheduler not needed - bucket aggregation done on query","dependencies":[{"issue_id":"bzglr-qin.6","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:31.124936-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.6","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:22.445086-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.7","title":"Add collectors to application supervisor","description":"Modify apps/bezgelor_portal/lib/bezgelor_portal/application.ex to add TelemetryCollector and RollupScheduler to supervision tree.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:31.490131-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Economy.Telemetry in application.ex supervised children","dependencies":[{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:31.490624-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin.5","type":"blocks","created_at":"2025-12-21T03:02:30.586834-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.7","depends_on_id":"bzglr-qin.6","type":"blocks","created_at":"2025-12-21T03:02:30.812682-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.8","title":"Create Chart.js LiveView hook","description":"Create apps/bezgelor_portal/assets/js/metrics_chart.js with MetricsChart hook. Handle update_chart events, support line/bar/area charts. Add Chart.js CDN to layout. Register hook in app.js.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:32.410666-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qin.8","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:32.418561-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qin.9","title":"Create MetricsDashboardLive - Server tab","description":"Create apps/bezgelor_portal/lib/bezgelor_portal_web/live/admin/metrics_dashboard_live.ex with Server tab showing players online, creatures spawned, active zones charts. Time range selector with presets + custom.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T03:01:49.388194-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"MetricsDashboardLive exists with Server tab (line 1-50+)","dependencies":[{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin","type":"parent-child","created_at":"2025-12-21T03:01:49.389812-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin.8","type":"blocks","created_at":"2025-12-21T03:02:31.233913-08:00","created_by":"daemon"},{"issue_id":"bzglr-qin.9","depends_on_id":"bzglr-qin.4","type":"blocks","created_at":"2025-12-21T03:02:31.641386-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qjn","title":"Create EconomyAlert schema","description":"Create the EconomyAlert schema for tracking threshold violations and suspicious activity.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/schema/economy_alert.ex\n- Test: apps/bezgelor_db/test/schema/economy_alert_test.exs\n\nSchema fields:\n- character_id (reference)\n- type (enum: excessive_gold_gain, high_balance, suspicious_pattern, rapid_transactions)\n- details (map)\n- status (enum: open, investigating, resolved, dismissed)\n- resolved_by_id (integer)\n- resolution_notes (string)\n- timestamps\n\nIncludes resolve_changeset/4 for updating alert status.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:13.414102-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy","schema"],"dependencies":[{"issue_id":"bzglr-qjn","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.962792-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qli","title":"Store.ex Refactoring","description":"Refactor store.ex (3,593 lines, 161 functions) into domain-specific sub-modules for better maintainability","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-28T01:30:09.777728-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Store.ex refactored from 3,593 to 2,227 lines (38% reduction). Created 8 domain modules: core.ex, loader.ex, index.ex, creatures.ex, spells.ex, items.ex, events.ex, splines.ex. All 119 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-qwr","title":"Add typespec for World.Instance idle timeout message","description":"The :idle_timeout message handler at line 1148 is not documented in @type state. Consider:\n1. Adding to state type: idle_timeout_ref :: reference() | nil\n2. Already present but lazy_loading boolean could use @doc\n\nMinor improvement for maintainability.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-24T18:01:10.134132-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Added inline documentation for lazy_loading, idle_timeout_ref, and last_player_left_at state fields in World.Instance @type state. Typespecs were already present.","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-qyz","title":"Add Metrics Dashboard Tests","description":"Add purge test to Metrics context tests. Add LiveView tests for dashboard rendering, tab switching, and time range selection. Ensure register_and_log_in_admin helper exists.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:16.096628-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-qyz","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.979577-08:00","created_by":"daemon"},{"issue_id":"bzglr-qyz","depends_on_id":"bzglr-uzn","type":"blocks","created_at":"2025-12-22T11:45:12.726795-08:00","created_by":"daemon"},{"issue_id":"bzglr-qyz","depends_on_id":"bzglr-f48","type":"blocks","created_at":"2025-12-22T11:45:12.904184-08:00","created_by":"daemon"},{"issue_id":"bzglr-qyz","depends_on_id":"bzglr-9w5","type":"blocks","created_at":"2025-12-22T11:45:13.066283-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-r3g","title":"Add new untracked files to git","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-24T21:13:56.785744-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Staged 3 files: creature_state.ex, creature_state_test.exs, instance_test.exs","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-rmg","title":"Economy Telemetry Integration","description":"Add comprehensive telemetry instrumentation across all economy-related systems to enable real-time monitoring, analytics, and debugging of in-game economic activity via LiveDashboard.","status":"tombstone","priority":1,"issue_type":"epic","created_at":"2025-12-21T02:53:34.123857-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"bzglr-sii","title":"Create event/world_boss.ex with boss mechanics","description":"Extract world boss spawning, damage tracking, phases (~300 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:14.706956-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created event/world_boss.ex with boss phase transition, damage calculation, and engagement tracking. EventManager reduced from 1,628 to 1,598 lines. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-t3g","title":"Fix duplicate test module name collision","description":"BezgelorWorld.World.InstanceTest was defined in two files: test/world/instance_test.exs and test/bezgelor_world/zone/instance_test.exs, causing compile failures. Fixed by renaming older module to BezgelorWorld.Zone.InstanceTest.","status":"tombstone","priority":1,"issue_type":"bug","created_at":"2025-12-24T23:34:18.893982-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Renamed BezgelorWorld.World.InstanceTest in test/bezgelor_world/zone/instance_test.exs to BezgelorWorld.Zone.InstanceTest to resolve module collision","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"bug"}
{"id":"bzglr-tgx","title":"Create Metrics Context Module","description":"Create BezgelorDb.Metrics context with insert_events/1, query_events/3, query_buckets/4, upsert_bucket/1, purge_events_before/1. Use raw SQL ON CONFLICT for atomic upserts.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:43:42.995034-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-tgx","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:46.313452-08:00","created_by":"daemon"},{"issue_id":"bzglr-tgx","depends_on_id":"bzglr-kzu","type":"blocks","created_at":"2025-12-22T11:45:09.247091-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-tlg","title":"Vendor transaction telemetry","description":"Add telemetry for NPC vendor interactions: items purchased, items sold, prices, vendor ID. Enables economy flow analysis.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.122857-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-tlg","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.217422-08:00","created_by":"daemon"},{"issue_id":"bzglr-tlg","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.423334-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-tqi","title":"Validate objective type in EventManager before atom conversion","description":"Good security fix in event_manager.ex adding safe_objective_type/1 with whitelist validation. However:\n1. The whitelist @valid_objective_types only includes 9 types - verify all valid types are included\n2. Consider logging invalid objective types for debugging\n3. Add unit test for safe_objective_type/1 edge cases\n\nFile: apps/bezgelor_world/lib/bezgelor_world/event_manager.ex:1333-1358","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-24T18:01:10.405723-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Objective type validation tests added to event_manager_test.exs (6 tests)","labels":["code-review security"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-ty9","title":"Create event/rewards.ex with reward calculation","description":"Extract pure reward calculation functions from EventManager (~200 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:14.351029-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created event/rewards.ex with all reward calculation and distribution logic extracted from EventManager.ex. EventManager reduced from 1,849 to 1,701 lines. All 15 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-u76","title":"Create Economy context module","description":"Create the Economy context module as the single entry point for all currency changes.\n\nFiles:\n- Create: apps/bezgelor_db/lib/bezgelor_db/economy.ex\n- Test: apps/bezgelor_db/test/economy_test.exs\n\nCore API:\n- modify_currency/5: Atomic currency modification with transaction logging\n- list_transactions/1: Query transactions with filters\n- count_transactions/1: Count matching transactions\n\nAnalytics:\n- total_currency_in_circulation/1: Sum all character balances\n- sum_transactions/2: Sum transactions by currency type with date range\n- top_currency_holders/2: Get characters with highest balances\n- transactions_by_source/1: Breakdown by source type\n\nAlert Management:\n- create_alert/1, list_alerts/1, resolve_alert/4\n- open_alert_count/0\n\nEmits telemetry events for real-time dashboard updates.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T00:53:15.199939-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["context","economy"],"dependencies":[{"issue_id":"bzglr-u76","depends_on_id":"bzglr-7d1","type":"blocks","created_at":"2025-12-21T00:55:03.946501-08:00","created_by":"daemon"},{"issue_id":"bzglr-u76","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:59:06.551648-08:00","created_by":"daemon"},{"issue_id":"bzglr-u76","depends_on_id":"bzglr-30l","type":"blocks","created_at":"2025-12-21T22:14:40.006024-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-u7f","title":"Top gold holders leaderboard","description":"Add a leaderboard showing characters with the highest gold balances. Useful for monitoring economy health and detecting potential gold farming.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:10:23.455785-08:00","updated_at":"2025-12-22T00:10:23.455785-08:00"}
{"id":"bzglr-ub3","title":"Create store/creatures.ex with creature data functions","description":"Extract creature domain: creatures, spawns, affiliations, loot rules (~400 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:30:24.923536-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"creatures.ex created with loot functions, delegations added","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-ukl","title":"Phase 3: Optimize Per-Zone Processing","description":"Implement lazy zone activation (start when first player enters, stop after timeout), per-zone AI batching with tunable tick rates based on player presence.","status":"tombstone","priority":3,"issue_type":"task","created_at":"2025-12-23T16:11:44.410843-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Phase 3 complete: lazy zone activation implemented (spawns deferred until first player), idle timeout (5 min) stops empty instances, per-zone AI tick handling via TickScheduler registration","dependencies":[{"issue_id":"bzglr-ukl","depends_on_id":"bzglr-2dg","type":"blocks","created_at":"2025-12-23T16:12:00.863741-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-uok","title":"Add unit tests for Economy.Telemetry GenServer","description":"Add unit tests covering: handler attachment/detachment, metric update accuracy for all event types, batch size overflow handling, flush timer behavior, and error recovery.","status":"tombstone","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:21:16.169811-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"feature"}
{"id":"bzglr-uvy","title":"Player trade telemetry","description":"Add telemetry for player-to-player trades: items exchanged, currency exchanged, trade completions/cancellations.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:54.077206-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-uvy","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.691177-08:00","created_by":"daemon"},{"issue_id":"bzglr-uvy","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:11.195024-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-uzn","title":"Add Collectors to Application Supervisor","description":"Add Task.Supervisor, TelemetryCollector, and RollupScheduler to bezgelor_portal application supervision tree.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:02.613546-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-uzn","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:46.879499-08:00","created_by":"daemon"},{"issue_id":"bzglr-uzn","depends_on_id":"bzglr-cuj","type":"blocks","created_at":"2025-12-22T11:45:10.512288-08:00","created_by":"daemon"},{"issue_id":"bzglr-uzn","depends_on_id":"bzglr-get","type":"blocks","created_at":"2025-12-22T11:45:10.688592-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-vdl","title":"Create multi-stage Dockerfile","description":"Create Dockerfile with builder and runner stages for Elixir release","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T22:00:24.999991-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-vdl","depends_on_id":"bzglr-1p1","type":"parent-child","created_at":"2025-12-21T22:00:53.681038-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-vya","title":"Create instance/entities.ex with CRUD","description":"Extract entity add/remove/update, position tracking (~250 lines)","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T01:31:34.186293-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Created instance/entities.ex (221 lines) with entity lookup, filtering, and logging helpers. Instance.ex reduced from 1,338 â†’ 1,306 lines (32 lines). All 420 tests pass.","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-wgl","title":"Mail system telemetry","description":"Add telemetry for mail with economic impact: currency attachments sent/received, item attachments, COD transactions.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-21T02:53:53.767784-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-wgl","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T02:54:54.526129-08:00","created_by":"daemon"},{"issue_id":"bzglr-wgl","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:10.944831-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-wox","title":"Add spell4_effects ETS table to Store","description":"Add :spell4_effects to ETS tables, load from JSON grouped by spell_id, add get_spell4_effects/1 accessor. Files: apps/bezgelor_data/lib/bezgelor_data/store.ex","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-28T00:51:49.426136-08:00","updated_at":"2025-12-28T15:19:57.824396-08:00","close_reason":"Added :spell4_effects ETS table with loading from 4 part files","deleted_at":"2025-12-28T15:19:57.824396-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-x38","title":"Add Metrics Dashboard Route","description":"Add /admin/metrics route in router.ex within the admin scope.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-22T11:44:03.517758-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","dependencies":[{"issue_id":"bzglr-x38","depends_on_id":"bzglr-6t4","type":"parent-child","created_at":"2025-12-22T11:44:47.396006-08:00","created_by":"daemon"},{"issue_id":"bzglr-x38","depends_on_id":"bzglr-2u0","type":"blocks","created_at":"2025-12-22T11:45:11.192517-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"bzglr-x3q","title":"Remove deleted test files from git tracking","description":"Three test files were deleted but may contain valuable test patterns to preserve or migrate:\n- creature_aggro_integration_test.exs \n- creature_aggro_test.exs\n- creature_chase_movement_test.exs\n\nVerify the test coverage is maintained in either:\n- creature_manager_test.exs (integration)\n- world/creature_state_test.exs (unit)\n\nIf not, recreate the missing test cases for aggro and chase movement.","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-24T18:01:10.675088-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Verified deleted test coverage preserved: added 3 chase movement tests to creature_state_test.exs (chase when out of range, attack in range, target removal handling). Total 48 tests now cover all essential aggro/combat/chase behaviors.","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-z8e","title":"Remove unused warnings in test files","description":"Multiple test files have unused variable warnings:\n- arena_test.exs:216 - unused pid2v2\n- arena_test.exs:228 - unused pid3v3\n- abilities_test.exs:124 - unused spec_indices\n- combat_edge_cases_test.exs:88 - unused remaining_xp\n- session_path_manager_test.exs:576 - unused session\n- session_path_manager_test.exs module attributes unused: @type_field_study, @type_project, @type_civil_service\n- group_finder_test.exs:4 - unused alias GroupFinder\n\nPrefix unused variables with underscore or remove unused attributes.","status":"tombstone","priority":3,"issue_type":"chore","created_at":"2025-12-24T18:00:51.292486-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Fixed all 7 unused variable/module attribute warnings in test files: arena_test.exs (2 unused pids), abilities_test.exs (spec_indices), combat_edge_cases_test.exs (remaining_xp), session_path_manager_test.exs (session + 3 module attributes), group_finder_test.exs (GroupFinder alias)","labels":["code-review"],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"chore"}
{"id":"bzglr-ziw","title":"Create Economy context unit tests","description":"Create comprehensive unit tests for the Economy context module.\n\nTest file: apps/bezgelor_db/test/economy_test.exs\n\nTest coverage:\n- modify_currency/5: valid changes, negative amounts, insufficient funds\n- list_transactions/1: filtering by character, source, date range\n- count_transactions/1: with various filters\n- total_currency_in_circulation/1: for each currency type\n- sum_transactions/2: date range handling\n- top_currency_holders/2: limit and currency type\n- transactions_by_source/1: aggregation\n- create_alert/1: valid and invalid alert types\n- list_alerts/1: filtering by status\n- resolve_alert/4: status transitions\n- open_alert_count/0: accuracy\n\nUse Ecto sandbox for isolation.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2025-12-21T22:14:40.403648-08:00","updated_at":"2025-12-25T02:56:00.239776-08:00","close_reason":"Closed","labels":["economy testing"],"dependencies":[{"issue_id":"bzglr-ziw","depends_on_id":"bzglr-u76","type":"blocks","created_at":"2025-12-21T22:14:52.711544-08:00","created_by":"daemon"},{"issue_id":"bzglr-ziw","depends_on_id":"bzglr-rmg","type":"parent-child","created_at":"2025-12-21T22:16:16.465595-08:00","created_by":"daemon"}],"deleted_at":"2025-12-25T02:56:00.239776-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
